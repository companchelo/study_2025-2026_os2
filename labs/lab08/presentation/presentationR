---
## Front matter
lang: ru-RU
title: Загружаемые модули ядра Linux (LKM)
subtitle: Реферат
author: Хохлачева П.Д.
  - 
institute:
  - Российский университет дружбы народов, Москва, Россия

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Информация

## Докладчик

:::::::::::::: {.columns align=center}
::: {.column width="70%"}

  * Хохлачева Полина Дмитриевна
  * Российский университет дружбы народов
  * Номер студенческого билета- 1132242473
  * [1132242473@pfur.ru]

:::
::::::::::::::


# Введение 

Загружаемые модули ядра Linux, или LKM. Мы рассмотрим этот ключевой, без
преувеличения, фундаментальный механизм, который определяет степень гибкости
современной Linux-системы.

![LKM](image/1.jpg){#fig:001 width=40%}

# Основная часть

##   Концепция LKM: 

Итак, что же такое LKM? Если говорить формально, LKM – это Loadable Kernel Modules, или
загружаемые модули ядра. По сути, это – объектные файлы, которые позволяют нам
расширить функциональность ядра операционной системы Linux, не прибегая к её полной
перекомпиляции. . LKM позволяют нам отступить от монолитной архитектуры, давая
возможность динамически загружать и выгружать компоненты. Таким образом, мы можем
адаптировать систему к текущим, меняющимся требованиям. LKM – это гибкость.



![](image/2.jpg){#fig:002 width=30%}

## Управление LKM: Основные инструменты

Для работы с LKM в Linux существует набор специализированных утилит. Их всего три, и
освоить их не составит труда:
• insmod: Это – базовая команда для загрузки модуля. Однако, она не занимается
разрешением зависимостей. Это означает, что перед загрузкой модуля с помощью insmod,
вам необходимо убедиться, что все необходимые ему компоненты уже загружены в систему.
• rmmod: Эта команда, как несложно догадаться, предназначена для выгрузки модуля из
ядра. Но стоит учитывать, что она не всегда срабатывает. Если модуль активно используется,
выгрузить его может не получиться.

## Управление LKM: Основные инструменты

• modprobe: Наша основная утилита. Это - "умная" команда, которая умеет не только
загружать и выгружать модули, но и автоматически разрешать зависимости. Она сама
"разберется", какие еще компоненты нужны для работы, и все подгрузит в правильном
порядке. Рекомендуется для общего использования, как наиболее безопасный и надежный
метод.



![](image/3.jpg){#fig:003 width=50%}

## Процесс загрузки (modprobe)

Подробнее рассмотрим алгоритм загрузки LKM с использованием modprobe:
1. Поиск: Сначала modprobe ищет объектный файл модуля. Она просматривает стандартные
каталоги и конфигурационные файлы, чтобы найти нужный файл.
2. Анализ и разрешение зависимостей: После обнаружения файла, modprobe анализирует
его зависимости. Она определяет, какие другие модули или компоненты необходимы для
корректной работы загружаемого модуля.
3. Загрузка в память ядра: Затем происходит загрузка самого модуля в память ядра.
Выделяется необходимая память, и код модуля размещается в адресном пространстве ядра.

## Процесс загрузки (modprobe)

4. Вызов функции инициализации: После загрузки, вызывается специальная функция
инициализации модуля. Эта функция выполняет необходимые действия для подготовки
модуля к работе, настраивает его параметры и устанавливает необходимые связи с другими
компонентами системы.
5. Регистрация в системе: Наконец, модуль регистрируется в системе, чтобы другие части
ядра могли узнать о его существовании и начать с ним взаимодействовать.
Процесс выгрузки, разумеется, выполняется в обратном порядке.

![](image/4.jpg){#fig:004 width=50%}

## Преимущества LKM: Ключевые аспекты

Использование LKM дает нам целый ряд существенных преимуществ:
• Сокращение объема ядра: Загружаются только необходимые модули. Это позволяет
уменьшить размер ядра и снизить потребление памяти. Особенно это важно для
встраиваемых систем и мобильных устройств, где ресурсы ограничены.
• Адаптивность: LKM позволяют адаптировать систему к различным аппаратным
конфигурациям и задачам. Если появляется новое устройство или требуется поддержка
нового протокола, мы можем просто загрузить соответствующий модуль, не пересобирая
ядро.
• Упрощение разработки: Разработка модулей гораздо проще, чем разработка всего ядра
целиком. Модули можно разрабатывать и тестировать отдельно, что значительно ускоряет
процесс.
• Расширяемость функционала: Легко добавлять поддержку нового оборудования и новых
функций, не затрагивая основную часть ядра. Это делает Linux очень гибкой и универсальной
системой.

## Примеры применения LKM: Области применения

LKM применяются практически во всех областях операционной системы Linux. Вот лишь
несколько примеров:
• Драйверы устройств: Это - самый распространенный пример. Драйверы для видеокарт,
сетевых карт, USB-устройств, звуковых карт и т.д. реализуются в виде LKM.
• Файловые системы: Поддержка различных файловых систем, таких как ext4, XFS, NTFS,
также реализуется с помощью LKM. Это позволяет Linux работать с разными типами дисков и
носителей.
• Сетевые протоколы: LKM используются для реализации различных сетевых протоколов,
таких как TCP/IP, UDP и т.д.
• Модули безопасности: Многие модули безопасности, предназначенные для защиты
системы от угроз, также реализуются в виде LKM.
Слайд 7: Потенциальные риски: Аспекты безопасности и стабильности
Несмотря на все преимущества, следует помнить о рисках, связанных с использованием
LKM:

## Примеры применения LKM: Области применения

• Уязвимости в модулях: LKM работают в пространстве ядра. Это означает, что любая
уязвимость в модуле может быть использована злоумышленником для получения контроля
над всей системой.
• Несовместимость версий: LKM должны быть скомпилированы для конкретной версии ядра.
Модуль, скомпилированный для одной версии, может не работать на другой.
• Снижение стабильности: Ошибки в LKM могут привести к сбоям в работе системы,
нестабильности и даже к "падению" ядра.



![](image/5.jpg){#fig:006 width=70%}

## Заключение: Значение LKM

В заключение, подчеркну, что LKM является неотъемлемым компонентом современной
операционной системы Linux. Этот механизм обеспечивает гибкость, масштабируемость и
адаптивность системы, позволяет эффективно управлять аппаратными ресурсами и
добавлять новую функциональность. Однако, разработка, установка и использование LKM
требуют ответственного подхода, глубокого понимания архитектуры ядра и постоянного
внимания к вопросам безопасности.
• Безусловно, самым авторитетным источником является официальная документация ядра
Linux, доступная на сайте kernel.org.
• И для общего понимания системного программирования, будет полезна статья И.В.
Блинова.







